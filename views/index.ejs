<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <script src='/javascripts/client.js'></script>
  </head>
  <body ng-app='icaApp' ng-controller="appController as app">
    <md-toolbar>
      <h2 class="md-toolbar-tools">
        <span><%= title %></span>
      </h2>
    </md-toolbar>

    <div style="height: 5px">
      <md-progress-linear ng-show="loading" md-mode="indeterminate"></md-progress-linear>
    </div>

    <md-content layout layout-align="center">
      <md-button class="md-raised md-primary" flex="none" ng-click="getProducts()">Get Products</md-button>
      <md-button class="md-raised md-primary" ng-click="toggleRight()" ng-hide="isOpenRight()">Add Product</md-button>
    </md-content>

    <md-list>
      <md-list-item class="md-2-line" ng-repeat="product in products">
        <div class="md-list-item-text" layout="column">
          <h3>{{product.title}}</h3>
          <p>{{product.description}}</p>
        </div>
        <md-button class="md-primary" ng-click="editProduct(product, $event)">Edit</md-button>
        <md-button class="md-warn" ng-click="removeProduct(product, $event)">Remove</md-button>
        <md-divider ng-if="!$last"></md-divider>
      </md-list-item>
    </md-list>


    <md-sidenav class="md-sidenav-right md-whiteframe-4dp" md-component-id="right">
      <md-toolbar>
        <h2 class="md-toolbar-tools">
          <span>New product</span>
        </h2>
      </md-toolbar>
      <div layout layout-align="center">
        <form ng-submit="addProduct(product)" md-theme="docs-dark" layout="column" layout-align="center">

          <md-input-container>
            <label>Title</label>
            <input ng-model="product.title">
          </md-input-container>

          <md-input-container>
            <label>Description</label>
            <input ng-model="product.description">
          </md-input-container>

          <div layout="row" layout-align="center">
            <md-button type="submit" class="md-raised md-accent" ng-disabled="userForm.$invalid">ADD PRODUCT</md-button>
          </div>
        </form>
      </div>
    </md-sidenav>

  </body>
</html>
